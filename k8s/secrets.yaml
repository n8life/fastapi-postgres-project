# Secret for PostgreSQL credentials
# Deploy with: kubectl create secret generic postgres-secret \
#   --from-literal=POSTGRES_USER=$POSTGRES_USER \
#   --from-literal=POSTGRES_PASSWORD=$POSTGRES_PASSWORD \
#   --from-literal=POSTGRES_DB=$POSTGRES_DB \
#   -n fastapi-postgres
---
apiVersion: v1
kind: Secret
metadata:
  name: postgres-secret
  namespace: fastapi-postgres
  labels:
    app: postgres
type: Opaque
# Values must be set via kubectl or CI/CD - DO NOT commit actual values
stringData:
  POSTGRES_USER: "${POSTGRES_USER}"
  POSTGRES_PASSWORD: "${POSTGRES_PASSWORD}"
  POSTGRES_DB: "${POSTGRES_DB}"
---
# Secret for API credentials
# Deploy with: kubectl create secret generic api-secret \
#   --from-literal=API_KEY=$API_KEY \
#   -n fastapi-postgres
apiVersion: v1
kind: Secret
metadata:
  name: api-secret
  namespace: fastapi-postgres
  labels:
    app: fastapi
type: Opaque
stringData:
  API_KEY: "${API_KEY}"
